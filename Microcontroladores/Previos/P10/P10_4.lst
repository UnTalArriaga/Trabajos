CCS PCM C Compiler, Version 5.093, 4770               26-may.-23 16:23

               Filename:   C:\Users\tobad\Desktop\p10\P10_4.lst

               ROM used:   1522 words (19%)
                           Largest free fragment is 2048
               RAM used:   36 (10%) at main() level
                           76 (21%) worst case
               Stack used: 7 locations (2 in main + 5 for interrupts)
               Stack size: 8

0000:  MOVLW  04
0001:  MOVWF  0A
0002:  GOTO   4BA
0003:  NOP
0004:  MOVWF  7F
0005:  SWAPF  03,W
0006:  CLRF   03
0007:  MOVWF  21
0008:  MOVF   0A,W
0009:  MOVWF  20
000A:  CLRF   0A
000B:  MOVF   04,W
000C:  MOVWF  22
000D:  MOVF   77,W
000E:  MOVWF  23
000F:  MOVF   78,W
0010:  MOVWF  24
0011:  MOVF   79,W
0012:  MOVWF  25
0013:  MOVF   7A,W
0014:  MOVWF  26
0015:  BSF    03.6
0016:  MOVF   0D,W
0017:  BCF    03.6
0018:  MOVWF  27
0019:  BSF    03.6
001A:  MOVF   0F,W
001B:  BCF    03.6
001C:  MOVWF  28
001D:  BSF    03.6
001E:  MOVF   0C,W
001F:  BCF    03.6
0020:  MOVWF  29
0021:  BSF    03.6
0022:  MOVF   0E,W
0023:  BCF    03.6
0024:  MOVWF  2A
0025:  BCF    03.7
0026:  BCF    03.5
0027:  BTFSS  0B.5
0028:  GOTO   02B
0029:  BTFSC  0B.2
002A:  GOTO   04C
002B:  MOVF   22,W
002C:  MOVWF  04
002D:  MOVF   23,W
002E:  MOVWF  77
002F:  MOVF   24,W
0030:  MOVWF  78
0031:  MOVF   25,W
0032:  MOVWF  79
0033:  MOVF   26,W
0034:  MOVWF  7A
0035:  MOVF   27,W
0036:  BSF    03.6
0037:  MOVWF  0D
0038:  BCF    03.6
0039:  MOVF   28,W
003A:  BSF    03.6
003B:  MOVWF  0F
003C:  BCF    03.6
003D:  MOVF   29,W
003E:  BSF    03.6
003F:  MOVWF  0C
0040:  BCF    03.6
0041:  MOVF   2A,W
0042:  BSF    03.6
0043:  MOVWF  0E
0044:  BCF    03.6
0045:  MOVF   20,W
0046:  MOVWF  0A
0047:  SWAPF  21,W
0048:  MOVWF  03
0049:  SWAPF  7F,F
004A:  SWAPF  7F,W
004B:  RETFIE
004C:  BCF    0A.3
004D:  BCF    0A.4
004E:  GOTO   39E
.................... #include <16f877a.h> // Libreria del microcontrolador 
.................... //////////// Standard Header file for the PIC16F877A device ////////////////
.................... ///////////////////////////////////////////////////////////////////////////
.................... ////        (C) Copyright 1996, 2014 Custom Computer Services          ////
.................... //// This source code may only be used by licensed users of the CCS C  ////
.................... //// compiler.  This source code may only be distributed to other      ////
.................... //// licensed users of the CCS C compiler.  No other use, reproduction ////
.................... //// or distribution is permitted without written permission.          ////
.................... //// Derivative programs created using this software in object code    ////
.................... //// form are not restricted in any way.                               ////
.................... ///////////////////////////////////////////////////////////////////////////
.................... #device PIC16F877A
004F:  BCF    0A.0
0050:  BCF    0A.1
0051:  BCF    0A.2
0052:  ADDWF  02,F
0053:  RETLW  28
0054:  RETLW  0C
0055:  RETLW  01
0056:  RETLW  06
0057:  MOVF   58,W
0058:  BTFSC  03.2
0059:  GOTO   0C7
005A:  MOVWF  60
005B:  MOVF   5C,W
005C:  BTFSC  03.2
005D:  GOTO   0C7
005E:  ADDWF  60,F
005F:  BTFSC  03.0
0060:  GOTO   068
0061:  MOVLW  7F
0062:  SUBWF  60,F
0063:  BTFSS  03.0
0064:  GOTO   0C7
0065:  BTFSC  03.2
0066:  GOTO   0C7
0067:  GOTO   06C
0068:  MOVLW  81
0069:  ADDWF  60,F
006A:  BTFSC  03.0
006B:  GOTO   0C7
006C:  MOVF   60,W
006D:  MOVWF  77
006E:  CLRF   78
006F:  CLRF   79
0070:  CLRF   7A
0071:  MOVF   59,W
0072:  MOVWF  64
0073:  BSF    64.7
0074:  MOVF   5A,W
0075:  MOVWF  63
0076:  MOVF   5B,W
0077:  MOVWF  62
0078:  MOVLW  18
0079:  MOVWF  60
007A:  CLRF   61
007B:  BTFSS  62.0
007C:  GOTO   095
007D:  MOVF   5F,W
007E:  ADDWF  7A,F
007F:  BTFSS  03.0
0080:  GOTO   087
0081:  INCF   79,F
0082:  BTFSS  03.2
0083:  GOTO   087
0084:  INCF   78,F
0085:  BTFSC  03.2
0086:  BSF    61.7
0087:  MOVF   5E,W
0088:  ADDWF  79,F
0089:  BTFSS  03.0
008A:  GOTO   08E
008B:  INCF   78,F
008C:  BTFSC  03.2
008D:  BSF    61.7
008E:  MOVF   5D,W
008F:  MOVWF  5A
0090:  BSF    5A.7
0091:  MOVF   5A,W
0092:  ADDWF  78,F
0093:  BTFSC  03.0
0094:  BSF    61.7
0095:  RLF    61,F
0096:  RRF    78,F
0097:  RRF    79,F
0098:  RRF    7A,F
0099:  RRF    64,F
009A:  RRF    63,F
009B:  RRF    62,F
009C:  BCF    03.0
009D:  DECFSZ 60,F
009E:  GOTO   07A
009F:  MOVLW  01
00A0:  ADDWF  77,F
00A1:  BTFSC  03.0
00A2:  GOTO   0C7
00A3:  BTFSC  78.7
00A4:  GOTO   0AC
00A5:  RLF    64,F
00A6:  RLF    7A,F
00A7:  RLF    79,F
00A8:  RLF    78,F
00A9:  DECF   77,F
00AA:  BTFSC  03.2
00AB:  GOTO   0C7
00AC:  BTFSS  64.7
00AD:  GOTO   0BD
00AE:  INCF   7A,F
00AF:  BTFSS  03.2
00B0:  GOTO   0BD
00B1:  INCF   79,F
00B2:  BTFSS  03.2
00B3:  GOTO   0BD
00B4:  INCF   78,F
00B5:  BTFSS  03.2
00B6:  GOTO   0BD
00B7:  RRF    78,F
00B8:  RRF    79,F
00B9:  RRF    7A,F
00BA:  INCF   77,F
00BB:  BTFSC  03.2
00BC:  GOTO   0C7
00BD:  MOVF   59,W
00BE:  MOVWF  61
00BF:  MOVF   5D,W
00C0:  XORWF  61,F
00C1:  BTFSS  61.7
00C2:  GOTO   0C5
00C3:  BSF    78.7
00C4:  GOTO   0CB
00C5:  BCF    78.7
00C6:  GOTO   0CB
00C7:  CLRF   77
00C8:  CLRF   78
00C9:  CLRF   79
00CA:  CLRF   7A
00CB:  RETURN
*
0180:  BTFSC  03.1
0181:  GOTO   185
0182:  MOVLW  60
0183:  MOVWF  04
0184:  BCF    03.7
0185:  CLRF   77
0186:  CLRF   78
0187:  CLRF   79
0188:  CLRF   7A
0189:  CLRF   60
018A:  CLRF   61
018B:  CLRF   62
018C:  CLRF   63
018D:  MOVF   5F,W
018E:  IORWF  5E,W
018F:  IORWF  5D,W
0190:  IORWF  5C,W
0191:  BTFSC  03.2
0192:  GOTO   1C3
0193:  MOVLW  20
0194:  MOVWF  64
0195:  BCF    03.0
0196:  RLF    58,F
0197:  RLF    59,F
0198:  RLF    5A,F
0199:  RLF    5B,F
019A:  RLF    60,F
019B:  RLF    61,F
019C:  RLF    62,F
019D:  RLF    63,F
019E:  MOVF   5F,W
019F:  SUBWF  63,W
01A0:  BTFSS  03.2
01A1:  GOTO   1AC
01A2:  MOVF   5E,W
01A3:  SUBWF  62,W
01A4:  BTFSS  03.2
01A5:  GOTO   1AC
01A6:  MOVF   5D,W
01A7:  SUBWF  61,W
01A8:  BTFSS  03.2
01A9:  GOTO   1AC
01AA:  MOVF   5C,W
01AB:  SUBWF  60,W
01AC:  BTFSS  03.0
01AD:  GOTO   1BD
01AE:  MOVF   5C,W
01AF:  SUBWF  60,F
01B0:  MOVF   5D,W
01B1:  BTFSS  03.0
01B2:  INCFSZ 5D,W
01B3:  SUBWF  61,F
01B4:  MOVF   5E,W
01B5:  BTFSS  03.0
01B6:  INCFSZ 5E,W
01B7:  SUBWF  62,F
01B8:  MOVF   5F,W
01B9:  BTFSS  03.0
01BA:  INCFSZ 5F,W
01BB:  SUBWF  63,F
01BC:  BSF    03.0
01BD:  RLF    77,F
01BE:  RLF    78,F
01BF:  RLF    79,F
01C0:  RLF    7A,F
01C1:  DECFSZ 64,F
01C2:  GOTO   195
01C3:  MOVF   60,W
01C4:  MOVWF  00
01C5:  INCF   04,F
01C6:  MOVF   61,W
01C7:  MOVWF  00
01C8:  INCF   04,F
01C9:  MOVF   62,W
01CA:  MOVWF  00
01CB:  INCF   04,F
01CC:  MOVF   63,W
01CD:  MOVWF  00
01CE:  RETURN
*
0264:  MOVF   04,W
0265:  MOVWF  50
0266:  MOVF   4F,W
0267:  MOVWF  52
0268:  BTFSC  03.2
0269:  GOTO   283
026A:  MOVF   4E,W
026B:  MOVWF  5B
026C:  MOVF   4D,W
026D:  MOVWF  5A
026E:  MOVF   4C,W
026F:  MOVWF  59
0270:  MOVF   4B,W
0271:  MOVWF  58
0272:  CLRF   5F
0273:  CLRF   5E
0274:  MOVLW  20
0275:  MOVWF  5D
0276:  MOVLW  82
0277:  MOVWF  5C
0278:  CALL   057
0279:  MOVF   7A,W
027A:  MOVWF  4E
027B:  MOVF   79,W
027C:  MOVWF  4D
027D:  MOVF   78,W
027E:  MOVWF  4C
027F:  MOVF   77,W
0280:  MOVWF  4B
0281:  DECFSZ 52,F
0282:  GOTO   26A
0283:  MOVF   4E,W
0284:  MOVWF  5B
0285:  MOVF   4D,W
0286:  MOVWF  5A
0287:  MOVF   4C,W
0288:  MOVWF  59
0289:  MOVF   4B,W
028A:  MOVWF  58
028B:  MOVF   58,W
028C:  SUBLW  B6
028D:  MOVWF  58
028E:  CLRF   7A
028F:  MOVF   59,W
0290:  MOVWF  5C
0291:  BSF    59.7
0292:  BCF    03.0
0293:  RRF    59,F
0294:  RRF    5A,F
0295:  RRF    5B,F
0296:  RRF    7A,F
0297:  RRF    79,F
0298:  RRF    78,F
0299:  RRF    77,F
029A:  DECFSZ 58,F
029B:  GOTO   292
029C:  BTFSS  5C.7
029D:  GOTO   2A9
029E:  COMF   77,F
029F:  COMF   78,F
02A0:  COMF   79,F
02A1:  COMF   7A,F
02A2:  INCF   77,F
02A3:  BTFSC  03.2
02A4:  INCF   78,F
02A5:  BTFSC  03.2
02A6:  INCF   79,F
02A7:  BTFSC  03.2
02A8:  INCF   7A,F
02A9:  MOVF   7A,W
02AA:  MOVWF  4E
02AB:  MOVF   79,W
02AC:  MOVWF  4D
02AD:  MOVF   78,W
02AE:  MOVWF  4C
02AF:  MOVF   77,W
02B0:  MOVWF  4B
02B1:  BTFSS  4E.7
02B2:  GOTO   2C0
02B3:  DECF   50,F
02B4:  BSF    50.5
02B5:  COMF   4B,F
02B6:  COMF   4C,F
02B7:  COMF   4D,F
02B8:  COMF   4E,F
02B9:  INCF   4B,F
02BA:  BTFSC  03.2
02BB:  INCF   4C,F
02BC:  BTFSC  03.2
02BD:  INCF   4D,F
02BE:  BTFSC  03.2
02BF:  INCF   4E,F
02C0:  MOVLW  3B
02C1:  MOVWF  57
02C2:  MOVLW  9A
02C3:  MOVWF  56
02C4:  MOVLW  CA
02C5:  MOVWF  55
02C6:  CLRF   54
02C7:  MOVLW  0A
02C8:  MOVWF  52
02C9:  MOVF   4F,W
02CA:  BTFSC  03.2
02CB:  INCF   50,F
02CC:  BSF    03.1
02CD:  MOVLW  4B
02CE:  MOVWF  04
02CF:  BCF    03.7
02D0:  MOVF   4E,W
02D1:  MOVWF  5B
02D2:  MOVF   4D,W
02D3:  MOVWF  5A
02D4:  MOVF   4C,W
02D5:  MOVWF  59
02D6:  MOVF   4B,W
02D7:  MOVWF  58
02D8:  MOVF   57,W
02D9:  MOVWF  5F
02DA:  MOVF   56,W
02DB:  MOVWF  5E
02DC:  MOVF   55,W
02DD:  MOVWF  5D
02DE:  MOVF   54,W
02DF:  MOVWF  5C
02E0:  CALL   180
02E1:  MOVF   78,W
02E2:  MOVF   77,F
02E3:  BTFSS  03.2
02E4:  GOTO   2F8
02E5:  INCF   4F,W
02E6:  SUBWF  52,W
02E7:  BTFSC  03.2
02E8:  GOTO   2F8
02E9:  MOVF   50,W
02EA:  BTFSC  03.2
02EB:  GOTO   2FA
02EC:  ANDLW  0F
02ED:  SUBWF  52,W
02EE:  BTFSC  03.2
02EF:  GOTO   2F2
02F0:  BTFSC  03.0
02F1:  GOTO   32A
02F2:  BTFSC  50.7
02F3:  GOTO   32A
02F4:  BTFSC  50.6
02F5:  GOTO   2FA
02F6:  MOVLW  20
02F7:  GOTO   326
02F8:  MOVLW  20
02F9:  ANDWF  50,F
02FA:  BTFSS  50.5
02FB:  GOTO   308
02FC:  BCF    50.5
02FD:  MOVF   4F,W
02FE:  BTFSS  03.2
02FF:  DECF   50,F
0300:  MOVF   77,W
0301:  MOVWF  50
0302:  MOVLW  2D
0303:  MOVWF  58
0304:  CALL   1E3
0305:  MOVF   50,W
0306:  MOVWF  77
0307:  CLRF   50
0308:  MOVF   4F,W
0309:  SUBWF  52,W
030A:  BTFSS  03.2
030B:  GOTO   316
030C:  MOVF   77,W
030D:  MOVWF  50
030E:  MOVLW  2E
030F:  MOVWF  58
0310:  CALL   1E3
0311:  MOVF   50,W
0312:  MOVWF  77
0313:  MOVLW  20
0314:  ANDWF  50,F
0315:  MOVLW  00
0316:  MOVLW  30
0317:  BTFSS  50.5
0318:  GOTO   326
0319:  BCF    50.5
031A:  MOVF   4F,W
031B:  BTFSS  03.2
031C:  DECF   50,F
031D:  MOVF   77,W
031E:  MOVWF  50
031F:  MOVLW  2D
0320:  MOVWF  58
0321:  CALL   1E3
0322:  MOVF   50,W
0323:  MOVWF  77
0324:  CLRF   50
0325:  MOVLW  30
0326:  ADDWF  77,F
0327:  MOVF   77,W
0328:  MOVWF  58
0329:  CALL   1E3
032A:  BCF    03.1
032B:  MOVF   57,W
032C:  MOVWF  5B
032D:  MOVF   56,W
032E:  MOVWF  5A
032F:  MOVF   55,W
0330:  MOVWF  59
0331:  MOVF   54,W
0332:  MOVWF  58
0333:  CLRF   5F
0334:  CLRF   5E
0335:  CLRF   5D
0336:  MOVLW  0A
0337:  MOVWF  5C
0338:  CALL   180
0339:  MOVF   7A,W
033A:  MOVWF  57
033B:  MOVF   79,W
033C:  MOVWF  56
033D:  MOVF   78,W
033E:  MOVWF  55
033F:  MOVF   77,W
0340:  MOVWF  54
0341:  DECFSZ 52,F
0342:  GOTO   2CC
0343:  BCF    0A.3
0344:  BCF    0A.4
0345:  GOTO   405 (RETURN)
0346:  MOVF   0B,W
0347:  MOVWF  4B
0348:  BCF    0B.7
0349:  BSF    03.5
034A:  BSF    03.6
034B:  BSF    0C.7
034C:  BSF    0C.0
034D:  NOP
034E:  NOP
034F:  BCF    03.5
0350:  BCF    03.6
0351:  BTFSC  4B.7
0352:  BSF    0B.7
0353:  BSF    03.6
0354:  MOVF   0C,W
0355:  ANDLW  7F
0356:  BTFSC  03.2
0357:  GOTO   39C
0358:  BCF    03.6
0359:  MOVWF  4B
035A:  BSF    03.6
035B:  MOVF   0D,W
035C:  BCF    03.6
035D:  MOVWF  4C
035E:  BSF    03.6
035F:  MOVF   0F,W
0360:  BCF    03.6
0361:  MOVWF  4D
0362:  MOVF   4B,W
0363:  BTFSS  0C.4
0364:  GOTO   363
0365:  MOVWF  19
0366:  MOVF   4C,W
0367:  BSF    03.6
0368:  MOVWF  0D
0369:  BCF    03.6
036A:  MOVF   4D,W
036B:  BSF    03.6
036C:  MOVWF  0F
036D:  BCF    03.6
036E:  MOVF   0B,W
036F:  MOVWF  4E
0370:  BCF    0B.7
0371:  BSF    03.5
0372:  BSF    03.6
0373:  BSF    0C.7
0374:  BSF    0C.0
0375:  NOP
0376:  NOP
0377:  BCF    03.5
0378:  BCF    03.6
0379:  BTFSC  4E.7
037A:  BSF    0B.7
037B:  BSF    03.6
037C:  RLF    0C,W
037D:  RLF    0E,W
037E:  ANDLW  7F
037F:  BTFSC  03.2
0380:  GOTO   39C
0381:  BCF    03.6
0382:  MOVWF  4B
0383:  BSF    03.6
0384:  MOVF   0D,W
0385:  BCF    03.6
0386:  MOVWF  4C
0387:  BSF    03.6
0388:  MOVF   0F,W
0389:  BCF    03.6
038A:  MOVWF  4D
038B:  MOVF   4B,W
038C:  BTFSS  0C.4
038D:  GOTO   38C
038E:  MOVWF  19
038F:  MOVF   4C,W
0390:  BSF    03.6
0391:  MOVWF  0D
0392:  BCF    03.6
0393:  MOVF   4D,W
0394:  BSF    03.6
0395:  MOVWF  0F
0396:  INCF   0D,F
0397:  BTFSC  03.2
0398:  INCF   0F,F
0399:  BCF    03.6
039A:  GOTO   346
039B:  BSF    03.6
039C:  BCF    03.6
039D:  RETURN
*
03B7:  MOVLW  8E
03B8:  MOVWF  77
03B9:  MOVF   4C,W
03BA:  MOVWF  78
03BB:  MOVF   4B,W
03BC:  MOVWF  79
03BD:  CLRF   7A
03BE:  MOVF   78,F
03BF:  BTFSS  03.2
03C0:  GOTO   3CB
03C1:  MOVF   79,W
03C2:  MOVWF  78
03C3:  CLRF   79
03C4:  MOVLW  08
03C5:  SUBWF  77,F
03C6:  MOVF   78,F
03C7:  BTFSS  03.2
03C8:  GOTO   3CB
03C9:  CLRF   77
03CA:  GOTO   3D3
03CB:  BCF    03.0
03CC:  BTFSC  78.7
03CD:  GOTO   3D2
03CE:  RLF    79,F
03CF:  RLF    78,F
03D0:  DECF   77,F
03D1:  GOTO   3CB
03D2:  BCF    78.7
*
040E:  MOVF   0B,W
040F:  MOVWF  4C
0410:  BCF    0B.7
0411:  BSF    03.5
0412:  BSF    03.6
0413:  BSF    0C.7
0414:  BSF    0C.0
0415:  NOP
0416:  NOP
0417:  BCF    03.5
0418:  BCF    03.6
0419:  BTFSC  4C.7
041A:  BSF    0B.7
041B:  BTFSC  03.0
041C:  GOTO   445
041D:  BSF    03.6
041E:  MOVF   0C,W
041F:  ANDLW  7F
0420:  BCF    03.6
0421:  MOVWF  4C
0422:  BSF    03.6
0423:  MOVF   0D,W
0424:  BCF    03.6
0425:  MOVWF  4D
0426:  BSF    03.6
0427:  MOVF   0F,W
0428:  BCF    03.6
0429:  MOVWF  4E
042A:  MOVF   4C,W
042B:  MOVWF  58
042C:  CALL   1E3
042D:  MOVF   4D,W
042E:  BSF    03.6
042F:  MOVWF  0D
0430:  BCF    03.6
0431:  MOVF   4E,W
0432:  BSF    03.6
0433:  MOVWF  0F
0434:  BCF    03.6
0435:  MOVF   0B,W
0436:  MOVWF  4F
0437:  BCF    0B.7
0438:  BSF    03.5
0439:  BSF    03.6
043A:  BSF    0C.7
043B:  BSF    0C.0
043C:  NOP
043D:  NOP
043E:  BCF    03.5
043F:  BCF    03.6
0440:  BTFSC  4F.7
0441:  BSF    0B.7
0442:  DECFSZ 4B,F
0443:  GOTO   445
0444:  GOTO   464
0445:  BSF    03.6
0446:  RLF    0C,W
0447:  RLF    0E,W
0448:  ANDLW  7F
0449:  BCF    03.6
044A:  MOVWF  4C
044B:  BSF    03.6
044C:  MOVF   0D,W
044D:  BCF    03.6
044E:  MOVWF  4D
044F:  BSF    03.6
0450:  MOVF   0F,W
0451:  BCF    03.6
0452:  MOVWF  4E
0453:  MOVF   4C,W
0454:  MOVWF  58
0455:  CALL   1E3
0456:  MOVF   4D,W
0457:  BSF    03.6
0458:  MOVWF  0D
0459:  BCF    03.6
045A:  MOVF   4E,W
045B:  BSF    03.6
045C:  MOVWF  0F
045D:  INCF   0D,F
045E:  BTFSC  03.2
045F:  INCF   0F,F
0460:  BCF    03.0
0461:  BCF    03.6
0462:  DECFSZ 4B,F
0463:  GOTO   40E
*
0497:  DATA A5,18
0498:  DATA 2E,19
0499:  DATA 66,10
049A:  DATA D6,37
049B:  DATA 6C,00
049C:  DATA 2A,25
049D:  DATA EF,39
049E:  DATA 65,10
049F:  DATA E3,30
04A0:  DATA 72,36
04A1:  DATA EF,39
04A2:  DATA 2A,05
04A3:  DATA 0D,00
04A4:  DATA B3,18
04A5:  DATA 36,18
04A6:  DATA B1,1B
04A7:  DATA 38,1B
04A8:  DATA 32,05
04A9:  DATA 0D,00
04AA:  DATA 47,39
04AB:  DATA 75,38
04AC:  DATA 6F,1D
04AD:  DATA A0,1A
04AE:  DATA 8A,06
04AF:  DATA 00,01
04B0:  DATA CD,34
04B1:  DATA 63,39
04B2:  DATA EF,31
04B3:  DATA EF,36
04B4:  DATA F0,3A
04B5:  DATA F4,30
04B6:  DATA E4,37
04B7:  DATA F2,30
04B8:  DATA 73,05
04B9:  DATA 0D,00
.................... 
.................... #list
.................... 
.................... #define use_portb_lcd true //Puerto B para LCD 
.................... #define LCD_DATA_PORT getenv("SFR:PORTD") 
.................... #device adc=8
.................... #fuses HS,NOWDT,NOPROTECT //activa alta velocidad y no protege el celdigo 
.................... #use delay(clock=20000000) //f=20Mhz
*
01CF:  MOVLW  59
01D0:  MOVWF  04
01D1:  BCF    03.7
01D2:  MOVF   00,W
01D3:  BTFSC  03.2
01D4:  GOTO   1E2
01D5:  MOVLW  06
01D6:  MOVWF  78
01D7:  CLRF   77
01D8:  DECFSZ 77,F
01D9:  GOTO   1D8
01DA:  DECFSZ 78,F
01DB:  GOTO   1D7
01DC:  MOVLW  7B
01DD:  MOVWF  77
01DE:  DECFSZ 77,F
01DF:  GOTO   1DE
01E0:  DECFSZ 00,F
01E1:  GOTO   1D5
01E2:  RETURN
.................... #use i2c(MASTER,SDA=PIN_C4,SCL=PIN_C3,SLOW,NOFORCE_SW)
*
00CC:  BCF    14.7
00CD:  BCF    0C.3
00CE:  MOVF   66,W
00CF:  MOVWF  13
00D0:  MOVLW  02
00D1:  BTFSC  14.7
00D2:  GOTO   0DA
00D3:  BTFSS  0C.3
00D4:  GOTO   0D3
00D5:  MOVLW  00
00D6:  BSF    03.5
00D7:  BTFSC  11.6
00D8:  MOVLW  01
00D9:  BCF    03.5
00DA:  MOVWF  78
00DB:  RETURN
.................... #use rs232(baud=9600, xmit=PIN_C6, rcv=PIN_C7) 
.................... #define use_portb_lcd true
.................... #include <i2c_LCD.c>
.................... //----------------------------------------------------------------------------- 
.................... // Title:         i2c_Flex_LCD 
.................... // Description:   Driver for common LCD with 1/2/3 or 4 rows by 1...20 columns 
.................... //                using PCF8574T interface board with I2C protocol. 
.................... // Date:          Nov-2013 
.................... // Ver.Rev.:      1.1 
.................... // Author:        Hugo Silva (sergio-hugo@bol.com.br) #Based on the routines of 
.................... //                "20X4_LCD_I2C_DRIVER.h" from Pumrin S. and "lcd4_i2c.c" from XP8100 
.................... //----------------------------------------------------------------------------- 
.................... // 
.................... // lcd_init() Must be called before any other function. 
.................... // 
.................... // lcd_putc(c) Will display c on the next position of the LCD. 
.................... //  
.................... //     \f Clear LCD display 
.................... //     \n Set write position on next lcd line 
.................... //     \b LCD backspace 
.................... //     lcd_gotoxy(x,y) Set write position on LCD (upper left is 1,1) 
.................... // 
.................... // lcd_backlight_led(ON)/lcd_backlight_led(OFF) = Turn ON/OFF LCD Backlight LED 
.................... // 
.................... //----------------------------------------------------------------------------- 
.................... // LCD pins D0-D3 are not used. 
.................... //----------------------------------------------------------------------------- 
.................... // 
.................... // Comment   : Control of a compatible LCD (1...4 rows by 1...4 columns) from 
.................... //              a bus I2C with an EXPANDER of I/O with connection I2C. 
.................... //              The tests of these routines have been programmed using the IC 
.................... //              Phillips PCF8574T. I've used 4 bits mode programming. 
.................... //              The 8 bits mode programming is possible if you use 2 x PCF8574T. 
.................... //              RW Pin is not being used. 
.................... // 
.................... // As defined in the following structure the pin connection is as follows: 
.................... // 
.................... //  PCF8574P     LCD 
.................... //  ========     ====== 
.................... //     P0        RS 
.................... //     P1        RW    (Not used!) 
.................... //     P2        Enable  
.................... //     P3        Led Backlight 
.................... //     P4        D4 
.................... //     P5        D5 
.................... //     P6        D6 
.................... //     P7        D7 
.................... // 
.................... //  The SCL and SDA pins should be pull-up resistor as shown below: 
.................... // 
.................... //             +5v 
.................... //               | 
.................... //               < 
.................... //               > 4.7K        
.................... //               <          
.................... //To PIC         |          To i2c slave 
.................... //pin xx ------------------ SDA pin  
.................... //(SDA)                      
.................... //              +5v 
.................... //               | 
.................... //               < 
.................... //               > 4.7K        
.................... //               <          
.................... //To PIC         |          To i2c slave 
.................... //pin xx ------------------ SCL pin  
.................... //(SCL) 
.................... // 
.................... //To PIC                    To i2c slave 
.................... //Vss pin ----------------- Vss or ground pin  
.................... //                | 
.................... //              ----- 
.................... //               ---  Ground 
.................... //                -  
.................... //  
.................... // THIS DOCUMENT IS PROVIDED TO THE USER "AS IS" 
.................... //----------------------------------------------------------------------------- 
.................... byte LCD_ADDR ;//             0x4E        //I2C slave address for LCD module 
.................... byte lcd_total_rows ;//       2           //Number of rows: 1,2,3 or 4 
.................... byte lcd_total_columns ;//    16          //Number of columns: 1...20   
.................... 
.................... #define RS                    0b00000001  //P0 - PCF8574T Pin connected to RS 
.................... #define RW                    0b00000010  //P1 - PCF8574T Pin connected to RW 
.................... #define ENABLE                0b00000100  //P2 - PCF8574T Pin connected to EN 
.................... #define LCD_BACKLIGHT         0b00001000  //P3 - PCF8574T Pin connected to BACKLIGHT LED 
.................... 
.................... #define addr_row_one          0x00        //LCD RAM address for row 1 
.................... #define addr_row_two          0x40        //LCD RAM address for row 2 
.................... #define addr_row_three        0x14        //LCD RAM address for row 3 
.................... #define addr_row_four         0x54        //LCD RAM address for row 4 
.................... 
.................... #define ON                    1 
.................... #define OFF                   0 
.................... #define NOT                   ~ 
.................... #define data_shifted          data<<4 
.................... int8 new_row_request=1, BACKLIGHT_LED=LCD_BACKLIGHT; 
.................... 
.................... void lcd_backlight_led(byte bl) 
.................... {  
....................       If (bl) BACKLIGHT_LED=LCD_BACKLIGHT; else BACKLIGHT_LED=OFF; 
.................... } 
.................... 
.................... void i2c_send_nibble(byte data, byte type) 
.................... {    
....................    switch (type) 
00DC:  MOVF   64,W
00DD:  XORLW  00
00DE:  BTFSC  03.2
00DF:  GOTO   0E4
00E0:  XORLW  01
00E1:  BTFSC  03.2
00E2:  GOTO   107
00E3:  GOTO   12B
....................    {      
....................       case 0 :      
....................       i2c_write(data_shifted | BACKLIGHT_LED); 
00E4:  SWAPF  63,W
00E5:  MOVWF  77
00E6:  MOVLW  F0
00E7:  ANDWF  77,F
00E8:  MOVF   77,W
00E9:  IORWF  31,W
00EA:  MOVWF  65
00EB:  MOVWF  66
00EC:  CALL   0CC
....................       delay_cycles(1); 
00ED:  NOP
....................       i2c_write(data_shifted | ENABLE | BACKLIGHT_LED ); 
00EE:  SWAPF  63,W
00EF:  MOVWF  77
00F0:  MOVLW  F0
00F1:  ANDWF  77,F
00F2:  MOVF   77,W
00F3:  IORLW  04
00F4:  IORWF  31,W
00F5:  MOVWF  65
00F6:  MOVWF  66
00F7:  CALL   0CC
....................       delay_us(2); 
00F8:  MOVLW  03
00F9:  MOVWF  77
00FA:  DECFSZ 77,F
00FB:  GOTO   0FA
....................       i2c_write(data_shifted & NOT ENABLE | BACKLIGHT_LED); 
00FC:  SWAPF  63,W
00FD:  MOVWF  77
00FE:  MOVLW  F0
00FF:  ANDWF  77,F
0100:  MOVF   77,W
0101:  ANDLW  FB
0102:  IORWF  31,W
0103:  MOVWF  65
0104:  MOVWF  66
0105:  CALL   0CC
....................       break; 
0106:  GOTO   12B
....................       
....................       case 1 : 
....................       i2c_write(data_shifted | RS | BACKLIGHT_LED); 
0107:  SWAPF  63,W
0108:  MOVWF  77
0109:  MOVLW  F0
010A:  ANDWF  77,F
010B:  MOVF   77,W
010C:  IORLW  01
010D:  IORWF  31,W
010E:  MOVWF  65
010F:  MOVWF  66
0110:  CALL   0CC
....................       delay_cycles(1); 
0111:  NOP
....................       i2c_write(data_shifted | RS | ENABLE | BACKLIGHT_LED ); 
0112:  SWAPF  63,W
0113:  MOVWF  77
0114:  MOVLW  F0
0115:  ANDWF  77,F
0116:  MOVF   77,W
0117:  IORLW  01
0118:  IORLW  04
0119:  IORWF  31,W
011A:  MOVWF  65
011B:  MOVWF  66
011C:  CALL   0CC
....................       delay_us(2); 
011D:  MOVLW  03
011E:  MOVWF  77
011F:  DECFSZ 77,F
0120:  GOTO   11F
....................       i2c_write(data_shifted | RS | BACKLIGHT_LED); 
0121:  SWAPF  63,W
0122:  MOVWF  77
0123:  MOVLW  F0
0124:  ANDWF  77,F
0125:  MOVF   77,W
0126:  IORLW  01
0127:  IORWF  31,W
0128:  MOVWF  65
0129:  MOVWF  66
012A:  CALL   0CC
....................       break; 
....................    } 
012B:  RETURN
.................... } 
....................     
.................... void lcd_send_byte(byte data, byte type) 
....................    { 
....................         i2c_start(); 
*
0162:  BSF    03.5
0163:  BSF    11.0
0164:  BTFSC  11.0
0165:  GOTO   164
*
01F1:  BSF    03.5
01F2:  BSF    11.0
01F3:  BTFSC  11.0
01F4:  GOTO   1F3
*
0224:  BSF    03.5
0225:  BSF    11.0
0226:  BTFSC  11.0
0227:  GOTO   226
*
0246:  BSF    03.5
0247:  BSF    11.0
0248:  BTFSC  11.0
0249:  GOTO   248
*
0568:  BSF    03.5
0569:  BSF    11.0
056A:  BTFSC  11.0
056B:  GOTO   56A
*
0593:  BSF    03.5
0594:  BSF    11.0
0595:  BTFSC  11.0
0596:  GOTO   595
....................         i2c_write(LCD_ADDR); 
*
0166:  BCF    03.5
0167:  MOVF   2D,W
0168:  MOVWF  66
0169:  CALL   0CC
*
01F5:  BCF    03.5
01F6:  MOVF   2D,W
01F7:  MOVWF  66
01F8:  CALL   0CC
*
0228:  BCF    03.5
0229:  MOVF   2D,W
022A:  MOVWF  66
022B:  CALL   0CC
*
024A:  BCF    03.5
024B:  MOVF   2D,W
024C:  MOVWF  66
024D:  CALL   0CC
*
056C:  BCF    03.5
056D:  MOVF   2D,W
056E:  MOVWF  66
056F:  CALL   0CC
*
0597:  BCF    03.5
0598:  MOVF   2D,W
0599:  MOVWF  66
059A:  CALL   0CC
....................         i2c_send_nibble(data >> 4 , type); 
*
016A:  SWAPF  60,W
016B:  MOVWF  62
016C:  MOVLW  0F
016D:  ANDWF  62,F
016E:  MOVF   62,W
016F:  MOVWF  63
0170:  MOVF   61,W
0171:  MOVWF  64
0172:  CALL   0DC
*
01F9:  SWAPF  60,W
01FA:  MOVWF  62
01FB:  MOVLW  0F
01FC:  ANDWF  62,F
01FD:  MOVF   62,W
01FE:  MOVWF  63
01FF:  MOVF   61,W
0200:  MOVWF  64
0201:  CALL   0DC
*
022C:  SWAPF  60,W
022D:  MOVWF  62
022E:  MOVLW  0F
022F:  ANDWF  62,F
0230:  MOVF   62,W
0231:  MOVWF  63
0232:  MOVF   61,W
0233:  MOVWF  64
0234:  CALL   0DC
*
024E:  SWAPF  60,W
024F:  MOVWF  62
0250:  MOVLW  0F
0251:  ANDWF  62,F
0252:  MOVF   62,W
0253:  MOVWF  63
0254:  MOVF   61,W
0255:  MOVWF  64
0256:  CALL   0DC
*
0570:  SWAPF  60,W
0571:  MOVWF  62
0572:  MOVLW  0F
0573:  ANDWF  62,F
0574:  MOVF   62,W
0575:  MOVWF  63
0576:  MOVF   61,W
0577:  MOVWF  64
0578:  CALL   0DC
*
059B:  SWAPF  60,W
059C:  MOVWF  62
059D:  MOVLW  0F
059E:  ANDWF  62,F
059F:  MOVF   62,W
05A0:  MOVWF  63
05A1:  MOVF   61,W
05A2:  MOVWF  64
05A3:  CALL   0DC
....................         i2c_send_nibble(data & 0xf , type); 
*
0173:  MOVF   60,W
0174:  ANDLW  0F
0175:  MOVWF  62
0176:  MOVWF  63
0177:  MOVF   61,W
0178:  MOVWF  64
0179:  CALL   0DC
*
0202:  MOVF   60,W
0203:  ANDLW  0F
0204:  MOVWF  62
0205:  MOVWF  63
0206:  MOVF   61,W
0207:  MOVWF  64
0208:  CALL   0DC
*
0235:  MOVF   60,W
0236:  ANDLW  0F
0237:  MOVWF  62
0238:  MOVWF  63
0239:  MOVF   61,W
023A:  MOVWF  64
023B:  CALL   0DC
*
0257:  MOVF   60,W
0258:  ANDLW  0F
0259:  MOVWF  62
025A:  MOVWF  63
025B:  MOVF   61,W
025C:  MOVWF  64
025D:  CALL   0DC
*
0579:  MOVF   60,W
057A:  ANDLW  0F
057B:  MOVWF  62
057C:  MOVWF  63
057D:  MOVF   61,W
057E:  MOVWF  64
057F:  CALL   0DC
*
05A4:  MOVF   60,W
05A5:  ANDLW  0F
05A6:  MOVWF  62
05A7:  MOVWF  63
05A8:  MOVF   61,W
05A9:  MOVWF  64
05AA:  CALL   0DC
....................         i2c_stop();        
*
017A:  BSF    03.5
017B:  BSF    11.2
017C:  BTFSC  11.2
017D:  GOTO   17C
*
0209:  BSF    03.5
020A:  BSF    11.2
020B:  BTFSC  11.2
020C:  GOTO   20B
*
023C:  BSF    03.5
023D:  BSF    11.2
023E:  BTFSC  11.2
023F:  GOTO   23E
*
025E:  BSF    03.5
025F:  BSF    11.2
0260:  BTFSC  11.2
0261:  GOTO   260
*
0580:  BSF    03.5
0581:  BSF    11.2
0582:  BTFSC  11.2
0583:  GOTO   582
0584:  BCF    03.5
0585:  CLRF   2B
0586:  BTFSC  0B.7
0587:  BSF    2B.7
0588:  BCF    0B.7
*
05AB:  BSF    03.5
05AC:  BSF    11.2
05AD:  BTFSC  11.2
05AE:  GOTO   5AD
....................    } 
.................... 
.................... void lcd_clear() 
.................... {  
....................         lcd_send_byte(0x01,0); 
*
01EE:  MOVLW  01
01EF:  MOVWF  60
01F0:  CLRF   61
*
0590:  MOVLW  01
0591:  MOVWF  60
0592:  CLRF   61
....................         delay_ms(2); 
*
020D:  MOVLW  02
020E:  BCF    03.5
020F:  MOVWF  59
0210:  CALL   1CF
*
05AF:  MOVLW  02
05B0:  BCF    03.5
05B1:  MOVWF  59
05B2:  CALL   1CF
....................         new_row_request=1; 
*
0211:  MOVLW  01
0212:  MOVWF  30
*
05B3:  MOVLW  01
05B4:  MOVWF  30
.................... } 
.................... 
.................... void lcd_init(byte ADDR, byte col, byte row) 
.................... { 
....................    byte i;
....................    byte CONST lcd_type=2;  // 0=5x7, 1=5x10, 2=2 lines 
....................    byte CONST LCD_INIT_STRING[4] = {0x20 | (lcd_type << 2), 0xc, 1, 6}; // These bytes need to be sent to the LCD to start it up.
....................    
....................    LCD_ADDR =ADDR;//             0x4E        //I2C slave address for LCD module 
*
04F7:  MOVF   3F,W
04F8:  MOVWF  2D
....................    lcd_total_rows =row;//       2           //Number of rows: 1,2,3 or 4 
04F9:  MOVF   41,W
04FA:  MOVWF  2E
....................    lcd_total_columns= col ;
04FB:  MOVF   40,W
04FC:  MOVWF  2F
....................    disable_interrupts(GLOBAL); 
04FD:  BCF    0B.6
04FE:  BCF    0B.7
04FF:  BTFSC  0B.7
0500:  GOTO   4FE
0501:  CLRF   2B
0502:  BTFSC  0B.7
0503:  BSF    2B.7
0504:  BCF    0B.7
....................    delay_ms(50); //LCD power up delay 
0505:  MOVLW  32
0506:  MOVWF  59
0507:  CALL   1CF
0508:  BTFSC  2B.7
0509:  BSF    0B.7
....................     
....................    i2c_start(); 
050A:  BSF    03.5
050B:  BSF    11.0
050C:  BTFSC  11.0
050D:  GOTO   50C
050E:  BCF    03.5
050F:  CLRF   2B
0510:  BTFSC  0B.7
0511:  BSF    2B.7
0512:  BCF    0B.7
....................    i2c_write(LCD_ADDR); 
0513:  MOVF   2D,W
0514:  MOVWF  66
0515:  CALL   0CC
0516:  BTFSC  2B.7
0517:  BSF    0B.7
0518:  CLRF   2B
0519:  BTFSC  0B.7
051A:  BSF    2B.7
051B:  BCF    0B.7
....................       i2c_send_nibble(0x00,0); 
051C:  CLRF   63
051D:  CLRF   64
051E:  CALL   0DC
051F:  BTFSC  2B.7
0520:  BSF    0B.7
0521:  CLRF   2B
0522:  BTFSC  0B.7
0523:  BSF    2B.7
0524:  BCF    0B.7
....................       delay_ms(15); 
0525:  MOVLW  0F
0526:  MOVWF  59
0527:  CALL   1CF
0528:  BTFSC  2B.7
0529:  BSF    0B.7
....................     
....................    for (i=1;i<=3;++i)    
052A:  MOVLW  01
052B:  MOVWF  42
052C:  MOVF   42,W
052D:  SUBLW  03
052E:  BTFSS  03.0
052F:  GOTO   545
0530:  CLRF   2B
0531:  BTFSC  0B.7
0532:  BSF    2B.7
0533:  BCF    0B.7
....................    { 
....................       i2c_send_nibble(0x03,0); 
0534:  MOVLW  03
0535:  MOVWF  63
0536:  CLRF   64
0537:  CALL   0DC
0538:  BTFSC  2B.7
0539:  BSF    0B.7
053A:  CLRF   2B
053B:  BTFSC  0B.7
053C:  BSF    2B.7
053D:  BCF    0B.7
....................       delay_ms(5); 
053E:  MOVLW  05
053F:  MOVWF  59
0540:  CALL   1CF
0541:  BTFSC  2B.7
0542:  BSF    0B.7
0543:  INCF   42,F
0544:  GOTO   52C
0545:  CLRF   2B
0546:  BTFSC  0B.7
0547:  BSF    2B.7
0548:  BCF    0B.7
....................    }    
....................       i2c_send_nibble(0x02,0); 
0549:  MOVLW  02
054A:  MOVWF  63
054B:  CLRF   64
054C:  CALL   0DC
054D:  BTFSC  2B.7
054E:  BSF    0B.7
054F:  CLRF   2B
0550:  BTFSC  0B.7
0551:  BSF    2B.7
0552:  BCF    0B.7
....................       delay_ms(5); 
0553:  MOVLW  05
0554:  MOVWF  59
0555:  CALL   1CF
0556:  BTFSC  2B.7
0557:  BSF    0B.7
....................    i2c_stop(); 
0558:  BSF    03.5
0559:  BSF    11.2
055A:  BTFSC  11.2
055B:  GOTO   55A
....................     
....................    for (i=0;i<=3;++i) { 
055C:  BCF    03.5
055D:  CLRF   42
055E:  MOVF   42,W
055F:  SUBLW  03
0560:  BTFSS  03.0
0561:  GOTO   590
....................    lcd_send_byte(LCD_INIT_STRING[i],0); 
0562:  MOVF   42,W
0563:  CALL   04F
0564:  MOVWF  43
0565:  MOVF   43,W
0566:  MOVWF  60
0567:  CLRF   61
....................    delay_ms(5); 
*
0589:  MOVLW  05
058A:  MOVWF  59
058B:  CALL   1CF
058C:  BTFSC  2B.7
058D:  BSF    0B.7
058E:  INCF   42,F
058F:  GOTO   55E
....................    } 
....................    lcd_clear();  //Clear Display 
....................    enable_interrupts(GLOBAL); 
*
05B5:  MOVLW  C0
05B6:  IORWF  0B,F
.................... } 
.................... 
.................... void lcd_gotoxy( byte x, byte y) 
.................... { 
.................... byte row,column,row_addr,lcd_address; 
.................... static char data; 
*
04EF:  BCF    03.5
04F0:  CLRF   32
.................... 
....................    if (y>lcd_total_rows) row=lcd_total_rows; else row=y; 
*
012C:  MOVF   5A,W
012D:  SUBWF  2E,W
012E:  BTFSC  03.0
012F:  GOTO   133
0130:  MOVF   2E,W
0131:  MOVWF  5B
0132:  GOTO   135
0133:  MOVF   5A,W
0134:  MOVWF  5B
....................   
....................    switch(row) 
0135:  MOVF   5B,W
0136:  XORLW  01
0137:  BTFSC  03.2
0138:  GOTO   143
0139:  XORLW  03
013A:  BTFSC  03.2
013B:  GOTO   145
013C:  XORLW  01
013D:  BTFSC  03.2
013E:  GOTO   148
013F:  XORLW  07
0140:  BTFSC  03.2
0141:  GOTO   14B
0142:  GOTO   14E
....................    { 
....................       case 1:  row_addr=addr_row_one;     break; 
0143:  CLRF   5D
0144:  GOTO   14F
....................       case 2:  row_addr=addr_row_two;     break; 
0145:  MOVLW  40
0146:  MOVWF  5D
0147:  GOTO   14F
....................       case 3:  row_addr=addr_row_three;   break; 
0148:  MOVLW  14
0149:  MOVWF  5D
014A:  GOTO   14F
....................       case 4:  row_addr=addr_row_four;    break; 
014B:  MOVLW  54
014C:  MOVWF  5D
014D:  GOTO   14F
....................       default: row_addr=addr_row_one;     break;  
014E:  CLRF   5D
....................    }  
....................     
....................    if (x>lcd_total_columns) column=lcd_total_columns; else column=x;  
014F:  MOVF   59,W
0150:  SUBWF  2F,W
0151:  BTFSC  03.0
0152:  GOTO   156
0153:  MOVF   2F,W
0154:  MOVWF  5C
0155:  GOTO   158
0156:  MOVF   59,W
0157:  MOVWF  5C
....................    lcd_address=(row_addr+(column-1)); 
0158:  MOVLW  01
0159:  SUBWF  5C,W
015A:  ADDWF  5D,W
015B:  MOVWF  5E
....................    lcd_send_byte(0x80|lcd_address,0); 
015C:  MOVF   5E,W
015D:  IORLW  80
015E:  MOVWF  5F
015F:  MOVF   5F,W
0160:  MOVWF  60
0161:  CLRF   61
*
017E:  BCF    03.5
017F:  RETURN
.................... } 
.................... 
.................... //Display the character on LCD screen. 
.................... void LCD_PUTC(char in_data) 
.................... {    
....................   switch(in_data) 
*
01E3:  MOVF   58,W
01E4:  XORLW  0C
01E5:  BTFSC  03.2
01E6:  GOTO   1EE
01E7:  XORLW  06
01E8:  BTFSC  03.2
01E9:  GOTO   214
01EA:  XORLW  02
01EB:  BTFSC  03.2
01EC:  GOTO   221
01ED:  GOTO   242
....................    {  
....................      case '\f': lcd_clear();                       break;                
*
0213:  GOTO   263
....................       
....................      case '\n': 
....................      new_row_request++; 
0214:  INCF   30,F
....................      if (new_row_request>lcd_total_rows) new_row_request=1; 
0215:  MOVF   30,W
0216:  SUBWF  2E,W
0217:  BTFSC  03.0
0218:  GOTO   21B
0219:  MOVLW  01
021A:  MOVWF  30
....................      lcd_gotoxy(1, new_row_request); 
021B:  MOVLW  01
021C:  MOVWF  59
021D:  MOVF   30,W
021E:  MOVWF  5A
021F:  CALL   12C
....................      break; 
0220:  GOTO   263
....................                   
....................      case '\b': lcd_send_byte(0x10,0);             break; 
0221:  MOVLW  10
0222:  MOVWF  60
0223:  CLRF   61
*
0240:  BCF    03.5
0241:  GOTO   263
....................         
....................      default: lcd_send_byte(in_data,1);            break;      
0242:  MOVF   58,W
0243:  MOVWF  60
0244:  MOVLW  01
0245:  MOVWF  61
*
0262:  BCF    03.5
....................       
....................    } 
0263:  RETURN
.................... } 
.................... 
.................... #org 0x1F00, 0x1FFF void loaderl6F877(void) {}
*
1F00:  RETURN
.................... 
.................... int cont_hex=0; //Contador de 8 bits 
.................... int convert=0; //Conversion de A/D
.................... long cont_v=0; //Contador para impresion de voltajes 
.................... long cont_n=0; //Contador para impresion de info en serie 
.................... float res=0;//Conversion a Volts
.................... 
.................... #int_rtcc
.................... void clock_isr(){ //codigo de la rutina
....................    //printf("%ld\n\r",cont_v); 
....................    cont_v++;
*
039E:  INCF   35,F
039F:  BTFSC  03.2
03A0:  INCF   36,F
....................    cont_n++;
03A1:  INCF   37,F
03A2:  BTFSC  03.2
03A3:  INCF   38,F
....................    if(cont_v==40){ //10 segundos conversion e impresion de Volts en LCD 
03A4:  MOVF   35,W
03A5:  SUBLW  28
03A6:  BTFSS  03.2
03A7:  GOTO   466
03A8:  MOVF   36,F
03A9:  BTFSS  03.2
03AA:  GOTO   466
....................       delay_us(20); // retardos
03AB:  MOVLW  21
03AC:  MOVWF  77
03AD:  DECFSZ 77,F
03AE:  GOTO   3AD
....................       convert=read_adc(); //CONVERTIDOR A/D 
03AF:  BSF    1F.2
03B0:  BTFSC  1F.2
03B1:  GOTO   3B0
03B2:  MOVF   1E,W
03B3:  MOVWF  34
....................       res=(float)convert*(0.01953); //Conversion a volts, 0.1953 resolucion 
03B4:  CLRF   4C
03B5:  MOVF   34,W
03B6:  MOVWF  4B
*
03D3:  MOVF   7A,W
03D4:  MOVWF  4E
03D5:  MOVF   79,W
03D6:  MOVWF  4D
03D7:  MOVF   78,W
03D8:  MOVWF  4C
03D9:  MOVF   77,W
03DA:  MOVWF  4B
03DB:  MOVF   7A,W
03DC:  MOVWF  5B
03DD:  MOVF   79,W
03DE:  MOVWF  5A
03DF:  MOVF   78,W
03E0:  MOVWF  59
03E1:  MOVF   77,W
03E2:  MOVWF  58
03E3:  MOVLW  61
03E4:  MOVWF  5F
03E5:  MOVLW  FD
03E6:  MOVWF  5E
03E7:  MOVLW  1F
03E8:  MOVWF  5D
03E9:  MOVLW  79
03EA:  MOVWF  5C
03EB:  CALL   057
03EC:  MOVF   7A,W
03ED:  MOVWF  3C
03EE:  MOVF   79,W
03EF:  MOVWF  3B
03F0:  MOVF   78,W
03F1:  MOVWF  3A
03F2:  MOVF   77,W
03F3:  MOVWF  39
....................       lcd_gotoxy(1,1);
03F4:  MOVLW  01
03F5:  MOVWF  59
03F6:  MOVWF  5A
03F7:  CALL   12C
....................       printf(lcd_putc,"%1.2f Vol",res); //Impresion 
03F8:  MOVLW  89
03F9:  MOVWF  04
03FA:  MOVF   3C,W
03FB:  MOVWF  4E
03FC:  MOVF   3B,W
03FD:  MOVWF  4D
03FE:  MOVF   3A,W
03FF:  MOVWF  4C
0400:  MOVF   39,W
0401:  MOVWF  4B
0402:  MOVLW  02
0403:  MOVWF  4F
0404:  GOTO   264
0405:  MOVLW  99
0406:  BSF    03.6
0407:  MOVWF  0D
0408:  MOVLW  04
0409:  MOVWF  0F
040A:  BSF    03.0
040B:  MOVLW  04
040C:  BCF    03.6
040D:  MOVWF  4B
....................       cont_v=0;
*
0464:  CLRF   36
0465:  CLRF   35
....................    }
.................... 
.................... if(cont_n==100){ //Impresion cada 25 seg 
0466:  MOVF   37,W
0467:  SUBLW  64
0468:  BTFSS  03.2
0469:  GOTO   493
046A:  MOVF   38,F
046B:  BTFSS  03.2
046C:  GOTO   493
.................... printf("*Jose carlos*\n\r");
046D:  MOVLW  9C
046E:  BSF    03.6
046F:  MOVWF  0D
0470:  MOVLW  04
0471:  MOVWF  0F
0472:  BCF    03.6
0473:  CALL   346
.................... printf("316017862\n\r");
0474:  MOVLW  A4
0475:  BSF    03.6
0476:  MOVWF  0D
0477:  MOVLW  04
0478:  MOVWF  0F
0479:  BCF    03.6
047A:  CALL   346
.................... 
.................... printf("Grupo: 5\n\r");
047B:  MOVLW  AA
047C:  BSF    03.6
047D:  MOVWF  0D
047E:  MOVLW  04
047F:  MOVWF  0F
0480:  BCF    03.6
0481:  CALL   346
.................... printf("Microcomputadoras\n\r");
0482:  MOVLW  B0
0483:  BSF    03.6
0484:  MOVWF  0D
0485:  MOVLW  04
0486:  MOVWF  0F
0487:  BCF    03.6
0488:  CALL   346
.................... printf("\n\r");
0489:  MOVLW  0A
048A:  BTFSS  0C.4
048B:  GOTO   48A
048C:  MOVWF  19
048D:  MOVLW  0D
048E:  BTFSS  0C.4
048F:  GOTO   48E
0490:  MOVWF  19
.................... 
.................... cont_n=0;
0491:  CLRF   38
0492:  CLRF   37
.................... }
0493:  BCF    0B.2
0494:  BCF    0A.3
0495:  BCF    0A.4
0496:  GOTO   02B
.................... }
.................... 
.................... void main(){ 
*
04BA:  MOVF   03,W
04BB:  ANDLW  1F
04BC:  MOVWF  03
04BD:  MOVLW  FF
04BE:  MOVWF  2C
04BF:  BSF    2C.3
04C0:  MOVF   2C,W
04C1:  BSF    03.5
04C2:  MOVWF  07
04C3:  BCF    03.5
04C4:  BSF    2C.4
04C5:  MOVF   2C,W
04C6:  BSF    03.5
04C7:  MOVWF  07
04C8:  MOVLW  31
04C9:  MOVWF  13
04CA:  MOVLW  28
04CB:  BCF    03.5
04CC:  MOVWF  14
04CD:  BSF    03.5
04CE:  BSF    14.7
04CF:  BCF    14.6
04D0:  MOVLW  81
04D1:  MOVWF  19
04D2:  MOVLW  A6
04D3:  MOVWF  18
04D4:  MOVLW  90
04D5:  BCF    03.5
04D6:  MOVWF  18
04D7:  MOVLW  01
04D8:  MOVWF  30
04D9:  MOVLW  08
04DA:  MOVWF  31
04DB:  CLRF   33
04DC:  CLRF   34
04DD:  CLRF   36
04DE:  CLRF   35
04DF:  CLRF   38
04E0:  CLRF   37
04E1:  CLRF   3C
04E2:  CLRF   3B
04E3:  CLRF   3A
04E4:  CLRF   39
04E5:  CLRF   3E
04E6:  CLRF   3D
04E7:  BSF    03.5
04E8:  BSF    1F.0
04E9:  BSF    1F.1
04EA:  BSF    1F.2
04EB:  BCF    1F.3
04EC:  MOVLW  07
04ED:  MOVWF  1C
04EE:  BCF    03.7
.................... lcd_init(0x4E, 16,2);
*
04F1:  MOVLW  4E
04F2:  MOVWF  3F
04F3:  MOVLW  10
04F4:  MOVWF  40
04F5:  MOVLW  02
04F6:  MOVWF  41
.................... setup_port_a(ALL_ANALOG); //Define al puerto A como analogico
*
05B7:  BSF    03.5
05B8:  BCF    1F.0
05B9:  BCF    1F.1
05BA:  BCF    1F.2
05BB:  BCF    1F.3
.................... // Define frecuencia de muestreo del convertidor A/D 
.................... setup_adc(ADC_CLOCK_INTERNAL); 
05BC:  BCF    1F.6
05BD:  BCF    03.5
05BE:  BSF    1F.6
05BF:  BSF    1F.7
05C0:  BSF    03.5
05C1:  BCF    1F.7
05C2:  BCF    03.5
05C3:  BSF    1F.0
.................... set_adc_channel(0); // Configura el canal a usar 
05C4:  MOVLW  00
05C5:  MOVWF  78
05C6:  MOVF   1F,W
05C7:  ANDLW  C7
05C8:  IORWF  78,W
05C9:  MOVWF  1F
.................... delay_us(20); // retardos
05CA:  MOVLW  21
05CB:  MOVWF  77
05CC:  DECFSZ 77,F
05CD:  GOTO   5CC
.................... set_timer0(0); // Inicia TIMERO en 00H 
05CE:  CLRF   01
.................... setup_counters(RTCC_INTERNAL,RTCC_DIV_256); //Fuente de reloj y pre-divisor 
05CF:  BSF    03.5
05D0:  MOVF   01,W
05D1:  ANDLW  C0
05D2:  IORLW  07
05D3:  MOVWF  01
05D4:  CLRWDT
.................... enable_interrupts(INT_RTCC); //Habilita interrupción por TIMERO 
05D5:  BCF    03.5
05D6:  BSF    0B.5
.................... enable_interrupts(GLOBAL); //Habilita interrupciones generales
05D7:  MOVLW  C0
05D8:  IORWF  0B,F
.................... set_tris_d(0x00);
05D9:  MOVLW  00
05DA:  BSF    03.5
05DB:  MOVWF  08
....................  
.................... while(true){
....................    output_d(cont_hex); //Salida de contador por puerto D 
05DC:  CLRF   08
05DD:  BCF    03.5
05DE:  MOVF   33,W
05DF:  MOVWF  08
....................    if(cont_hex==0xff){//Si llega a Oxff reinicia conteo
05E0:  INCFSZ 33,W
05E1:  GOTO   5E4
....................      cont_hex=0;
05E2:  CLRF   33
....................      }
05E3:  GOTO   5E5
....................    else{
....................      cont_hex++; //Aumenta el contador
05E4:  INCF   33,F
05E5:  CLRF   2B
05E6:  BTFSC  0B.7
05E7:  BSF    2B.7
05E8:  BCF    0B.7
....................      }
....................    delay_ms(250);
05E9:  MOVLW  FA
05EA:  MOVWF  59
05EB:  CALL   1CF
05EC:  BTFSC  2B.7
05ED:  BSF    0B.7
05EE:  BSF    03.5
05EF:  GOTO   5DC
....................    }
.................... }
.................... 
05F0:  SLEEP

Configuration Fuses:
   Word  1: 3F72   HS NOWDT PUT BROWNOUT NOLVP NOCPD NOWRT NODEBUG NOPROTECT
